{% extends 'base_admin.html.twig' %}

{% block body %}
    <div class="d-flex justify-content-center">
        <div class="card mt-5" style="width: 50%;">
            <div class="card-header bg-dark text-white">
                <h2 class="mb-0">Modifier l'article</h2>
            </div>
            <div class="card-body">
                <!-- Affichage des messages flash -->
                {% for label, messages in app.flashes %}
                    <div class="alert alert-{{ label }}">
                        {% for message in messages %}
                            <p>{{ message }}</p>
                        {% endfor %}
                    </div>
                {% endfor %}

                <form method="POST" action="{{ path('admin_edit_article', { id: article.id }) }}" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="titre">Titre</label>
                        <input type="text" id="titre" name="titre" class="form-control" value="{{ article.titre }}" required>
                    </div>

                    <div class="form-group">
                        <label for="prix">Prix</label>
                        <input type="number" id="prix" name="prix" class="form-control" value="{{ article.prix }}" step="0.01" required>
                    </div>

                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea id="description" name="description" class="form-control" rows="5" required>{{ article.description }}</textarea>
                    </div>

                    <button type="submit" class="btn btn-primary w-100">
                        <i class="fas fa-save"></i> Mettre à jour l'article
                    </button>
                </form>

                <a href="{{ path('admin_shop') }}" class="btn btn-secondary mt-3 w-100">Retour à la boutique</a>
            </div>
        </div>
    </div>
{% endblock %}
